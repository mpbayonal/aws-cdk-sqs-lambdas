{"version":3,"sources":["webpack:///src/app/pages/login/login.component.html","webpack:///src/app/pages/register/register.component.html","webpack:///src/app/layouts/auth-layout/auth-layout.module.ts","webpack:///src/app/layouts/auth-layout/auth-layout.routing.ts","webpack:///src/app/pages/login/login.component.scss","webpack:///src/app/pages/login/login.component.ts","webpack:///src/app/pages/register/register.component.scss","webpack:///src/app/pages/register/register.component.ts"],"names":["AuthLayoutModule","imports","forChild","declarations","AuthLayoutRoutes","path","component","LoginComponent","router","cedula","agents","nombre","password","cedula2","toString","credentials","username","then","res","authorization","encryptedKey","navigateByUrl","selector","template","RegisterComponent","console","log","keys","state","user","agent2","createAgent"],"mappings":"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","file":"layouts-auth-layout-auth-layout-module-es5.js","sourcesContent":["export default \"<div class=\\\"header bg-gradient-danger py-7 py-lg-8\\\">\\n  <div class=\\\"container\\\">\\n    <div class=\\\"header-body text-center mb-7\\\">\\n      <div class=\\\"row justify-content-center\\\">\\n        <div class=\\\"col-lg-5 col-md-6\\\">\\n          <h1 class=\\\"text-white\\\">Bienvenido</h1>\\n          <p class=\\\"text-lead text-light\\\">Ingresa a tu cuenta. Si no tienes cuenta, puedes crearla!</p>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"separator separator-bottom separator-skew zindex-100\\\">\\n\\n  </div>\\n</div>\\n<!-- Page content -->\\n<div class=\\\"container mt--8 pb-5\\\">\\n  <div class=\\\"row justify-content-center\\\">\\n    <div class=\\\"col-lg-5 col-md-7\\\">\\n      <div class=\\\"card card-user\\\">\\n        <div class=\\\"card-body px-lg-5 py-lg-5\\\">\\n          <div class=\\\"text-center \\\">\\n            <h3 class=\\\"card-title\\\"> Iniciar Sesi√≥n</h3>\\n\\n          </div>\\n          <form role=\\\"form\\\">\\n\\n            <div class=\\\"form-group mb-3\\\">\\n              <div class=\\\"input-group input-group-alternative\\\">\\n                <div class=\\\"input-group-prepend\\\">\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"ni ni-email-83\\\"></i></span>\\n                </div>\\n                <input [(ngModel)]=\\\"cedula\\\" class=\\\"form-control\\\" placeholder=\\\"Cedula\\\" type=\\\"number\\\" name=\\\"cedula\\\">\\n              </div>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <div class=\\\"input-group input-group-alternative\\\">\\n                <div class=\\\"input-group-prepend\\\">\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"ni ni-lock-circle-open\\\"></i></span>\\n                </div>\\n                <input [(ngModel)]=\\\"password\\\" class=\\\"form-control\\\" placeholder=\\\"Password\\\" type=\\\"password\\\" name=\\\"password\\\">\\n              </div>\\n            </div>\\n            <div class=\\\"text-center\\\">\\n              <button type=\\\"button\\\" class=\\\"btn btn-danger \\\" (click)=\\\"onEnviar()\\\" routerLinkActive=\\\"active\\\" >\\n\\n                Inicia Sesion\\n              </button>\\n\\n            </div>\\n          </form>\\n        </div>\\n      </div>\\n      <div class=\\\"row mt-3\\\">\\n\\n\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","export default \"<div class=\\\"header bg-gradient-danger py-7 py-lg-8\\\">\\n  <div class=\\\"container\\\">\\n    <div class=\\\"header-body text-center mb-7\\\">\\n      <div class=\\\"row justify-content-center\\\">\\n        <div class=\\\"col-lg-5 col-md-6\\\">\\n          <h1 class=\\\"text-white\\\">Bienvenido</h1>\\n          <p class=\\\"text-lead text-light\\\">Registrate en el siguiente formulario. Si ya tienes cuenta, puedes inicar sesion con ella!</p>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"separator separator-bottom separator-skew zindex-100\\\">\\n\\n  </div>\\n</div>\\n<!-- Page content -->\\n<div class=\\\"container mt--8 pb-5\\\">\\n  <div class=\\\"row justify-content-center\\\">\\n    <div class=\\\"col-lg-5 col-md-7\\\">\\n      <div class=\\\"card card-user\\\">\\n        <div class=\\\"card-body px-lg-5 py-lg-5\\\">\\n          <div class=\\\"text-center \\\">\\n            <h3 class=\\\"card-title\\\"> Registro</h3>\\n\\n          </div>\\n          <form role=\\\"form\\\">\\n\\n            <div class=\\\"form-group mb-3\\\">\\n              <div class=\\\"input-group input-group-alternative\\\">\\n                <div class=\\\"input-group-prepend\\\">\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"ni ni-email-83\\\"></i></span>\\n                </div>\\n                <input [(ngModel)]=\\\"nombre\\\" class=\\\"form-control\\\" placeholder=\\\"Nombre\\\" type=\\\"text\\\" name=\\\"nombre\\\">\\n              </div>\\n            </div>\\n            <div class=\\\"form-group mb-3\\\">\\n              <div class=\\\"input-group input-group-alternative\\\">\\n                <div class=\\\"input-group-prepend\\\">\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"ni ni-email-83\\\"></i></span>\\n                </div>\\n                <input [(ngModel)]=\\\"cedula\\\" class=\\\"form-control\\\" placeholder=\\\"Cedula\\\" type=\\\"number\\\" name=\\\"cedula\\\">\\n              </div>\\n            </div>\\n            <div class=\\\"form-group\\\">\\n              <div class=\\\"input-group input-group-alternative\\\">\\n                <div class=\\\"input-group-prepend\\\">\\n                  <span class=\\\"input-group-text\\\"><i class=\\\"ni ni-lock-circle-open\\\"></i></span>\\n                </div>\\n                <input [(ngModel)]=\\\"password\\\" class=\\\"form-control\\\" placeholder=\\\"Password\\\" type=\\\"password\\\" name=\\\"password\\\">\\n              </div>\\n            </div>\\n            <div class=\\\"text-center\\\">\\n              <button type=\\\"button\\\" class=\\\"btn btn-danger \\\" (click)=\\\"onEnviar()\\\" routerLinkActive=\\\"active\\\" >\\n\\n                Registrar\\n              </button>\\n\\n            </div>\\n          </form>\\n        </div>\\n      </div>\\n      <div class=\\\"row mt-3\\\">\\n\\n\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { AuthLayoutRoutes } from './auth-layout.routing';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\n\nimport { LoginComponent } from '../../pages/login/login.component';\nimport { RegisterComponent } from '../../pages/register/register.component';\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(AuthLayoutRoutes),\n    FormsModule\n    // NgbModule\n  ],\n  declarations: [\n    LoginComponent,\n    RegisterComponent\n  ]\n})\nexport class AuthLayoutModule { }\n","import { Routes } from '@angular/router';\n\nimport { LoginComponent } from '../../pages/login/login.component';\nimport { RegisterComponent } from '../../pages/register/register.component';\n\nexport const AuthLayoutRoutes: Routes = [\n    { path: 'login',          component: LoginComponent },\n    { path: 'register',       component: RegisterComponent }\n];\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5zY3NzIn0= */\"","import {  OnDestroy } from '@angular/core';\nimport { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport {obj}  from '../../services/payloads';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport {Router} from '@angular/router';\nimport * as _ from 'lodash';\nimport {submit,makePrivateKey,setPrivateKey, getPrivateKey,clearPrivateKey} from '../../services/transactions';\nimport {get,getPublicKey,hashPassword,post,setAuth,clearAuth} from '../../services/api';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit, OnDestroy {\n  /** email */\n  cedula: string = '';\n  agents: any[]=[]\n  /** email */\n  nombre: string = '';\n  password: string = '';\n\n  constructor(private router: Router) { }\n\n  ngOnInit() {\n    clearAuth()\n    clearPrivateKey()\n  }\n\n  onEnviar() {\n    clearAuth()\n    clearPrivateKey()\n\n    let cedula2 = this.cedula.toString();\n\n\n\n\n    const credentials = {\n      username: cedula2,\n      password: hashPassword(this.password)\n    }\n    post('authorization', credentials)\n      .then(res => {\n        setAuth(res.authorization)\n        setPrivateKey(this.password,\n          res.encryptedKey)\n        this.router.navigateByUrl('/dashboard')\n\n      })\n\n\n\n  }\n\n  ngOnDestroy(): void {\n  }\n\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3JlZ2lzdGVyL3JlZ2lzdGVyLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport {obj}  from '../../services/payloads';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport {submit,makePrivateKey,setPrivateKey, getPrivateKey,clearPrivateKey} from '../../services/transactions';\nimport {get,getPublicKey,hashPassword,post,setAuth,clearAuth} from '../../services/api';\nimport {Router} from '@angular/router';\nimport * as _ from 'lodash';\n\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.scss']\n})\nexport class RegisterComponent implements OnInit {\n\n  /** email */\n  cedula: string = '';\n  agents: any[]=[]\n  /** email */\n  nombre: string = '';\n  password: string = '';\n\n  constructor(private router: Router) { }\n\n  ngOnInit() {\n    clearAuth()\n    clearPrivateKey()\n  }\n\n  onEnviar() {\n    clearAuth()\n    clearPrivateKey()\n\n\n\n    get('agents').then((agents) => {\n      this.agents = agents\n\n      console.log(agents)\n      console.log(this.agents)\n    })\n\n\n    const keys = makePrivateKey(this.password);\n\n\n\n    let state = {'username': this.cedula.toString(), 'email': this.nombre ,'name' : this.nombre}\n    const user = _.assign(keys, _.pick(state, 'username', 'email'))\n\n    user.password = hashPassword(this.password)\n\n    const agent2 = obj.createAgent(_.pick(state, 'name'))\n    submit(agent2, true,this.password ) .then(() => post('users', user)).then(res => setAuth(res.authorization)).then(\n      this.router.navigateByUrl('/dashboard')\n      )\n\n\n\n\n\n  }\n\n}\n"]}